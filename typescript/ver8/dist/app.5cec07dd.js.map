{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-feed-view.ts","src/page/news-detail-view.ts","src/page/index.ts","src/store.ts","src/app.ts","../../../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { RouteInfo } from \"../types\";\r\nimport View from \"./view\";\r\n\r\nexport default class Router {\r\n  routeTable: RouteInfo[];\r\n  defaultRoute: RouteInfo | null;\r\n\r\n  constructor() {\r\n    window.addEventListener(\"hashchange\", this.route.bind(this));\r\n\r\n    this.routeTable = [];\r\n    this.defaultRoute = null;\r\n  }\r\n\r\n  setDefaultPage(page: View): void {\r\n    this.defaultRoute = { path: \"\", page };\r\n  }\r\n\r\n  addRoutePath(path: string, page: View): void {\r\n    this.routeTable.push({ path, page });\r\n  }\r\n\r\n  route() {\r\n    const routePath = location.hash;\r\n\r\n    if (routePath === \"\" && this.defaultRoute) {\r\n      this.defaultRoute.page.render();\r\n    }\r\n\r\n    for (const routeInfo of this.routeTable) {\r\n      if (routePath.indexOf(routeInfo.path) >= 0) {\r\n        routeInfo.page.render();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","// TODO VIEW 클래스: 공통 =========================================================================\r\n\r\nexport default abstract class View {\r\n  private template: string;\r\n  private renderTemplate: string;\r\n  private container: HTMLElement;\r\n  private htmlList: string[];\r\n\r\n  constructor(containerId: string, template: string) {\r\n    const containerElement = document.getElementById(containerId);\r\n\r\n    // ID가 containerId인 엘리먼트가 존재하지 않는다면 앱을 실행할 수 없으므로 종료시킨다\r\n    if (!containerElement)\r\n      throw \"최상위 컨테이너가 존재하지 않으므로 UI 생성에 실패하였습니다.\";\r\n\r\n    this.container = containerElement;\r\n    this.template = template;\r\n    this.renderTemplate = template;\r\n    this.htmlList = [];\r\n  }\r\n\r\n  protected updateView(): void {\r\n    // 기존엔 container가 null인지 아닌지 체크했지만 여기선 생성자에서 이미 했으므로\r\n    this.container.innerHTML = this.renderTemplate;\r\n    this.renderTemplate = this.template;\r\n  }\r\n\r\n  protected addHtml(htmlString: string): void {\r\n    this.htmlList.push(htmlString);\r\n  }\r\n\r\n  protected getHtml(): string {\r\n    const snapshot = this.htmlList.join(\"\");\r\n    this.clearHtmlList();\r\n    return snapshot;\r\n  }\r\n\r\n  protected setTemplateData(key: string, value: string): void {\r\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\r\n  }\r\n\r\n  private clearHtmlList(): void {\r\n    this.htmlList = [];\r\n  }\r\n\r\n  abstract render(): void;\r\n  // 반드시 이런 규격의 메소드를 자식 메소드가 구현하도록 강제하는 타입스크립트 문법으로,\r\n  // 이 문법을 구사하고자 하는 클래스는 class 키워드 앞에 abstract를 붙여주어야함.\r\n}\r\n","// TODO Api 클래스 =======================================================================================\r\n\r\nimport { NewsFeed, NewsDetail } from \"../types\";\r\n\r\nexport class Api {\r\n  url: string;\r\n  ajax: XMLHttpRequest;\r\n\r\n  constructor(url: string) {\r\n    this.url = url;\r\n    this.ajax = new XMLHttpRequest();\r\n  }\r\n\r\n  protected getRequest<AjaxResponse>(cb: (data: AjaxResponse) => void): void {\r\n    /*\r\n      fetch API는 프로미스 객체를 리턴하고, \r\n      그 프로미스 객체가 제공하는 then 메소드에 비동기 함수들을 계속 연결해서 붙여넣으면 \r\n      * 기존의 XHR의 문제점이었던, 계속 뎁스가 깊어지는 콜백 헬을 일자로 쭉 펼쳐진 구조로 만들 수 있다. \r\n      * 프로미스도 기본적으로 콜백 구조이긴 하지만 콜백의 뎁스가 여러 깊이로 만들어지지 않고 \r\n      * 보기에 일자로 쭉 펼쳐질 수 있는 구조를 제공하는 것이다. \r\n    */\r\n\r\n    /*\r\n      또 fetch의 다른 점이 있다면 응답 데이터가 JSON으로 왔을 때 기존 XHR 을 사용할 땐 \r\n      * JSON.parse를 써서 직접 바꿔줬지만 그것의 단점은 동기적으로 작동한다는 것이다. \r\n      * 그러니까 JSON의 데이터가 굉장히 크면 다음 코드가 블로킹되는데 fetch가 나오면서 그 문제점도 \r\n      * JSON을 비동기적으로 바꾸는 기능(.json()) 을 제공함으로써 해결을 하고 있다.  \r\n    */\r\n\r\n    fetch(this.url)\r\n      .then((response) => response.json())\r\n      .then(cb)\r\n      .catch(() => {\r\n        console.error(\"데이터를 불러오는 것에 실패하였습니다.\");\r\n      });\r\n  }\r\n}\r\n\r\nexport class NewsFeedApi extends Api {\r\n  getData(cb: (data: NewsFeed[]) => void): void {\r\n    this.getRequest<NewsFeed[]>(cb);\r\n  }\r\n}\r\n\r\nexport class NewsDetailApi extends Api {\r\n  getData(cb: (data: NewsDetail) => void): void {\r\n    this.getRequest<NewsDetail>(cb);\r\n  }\r\n}\r\n","export const NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\r\nexport const CONTENT_URL = \"https://api.hnpwa.com/v0/item/@id.json\";\r\n","// TODO VIEW 클래스: 뉴스 목록 =========================================================================\r\n\r\nimport View from \"../core/view\";\r\nimport { NewsFeedApi } from \"../core/api\";\r\nimport { NewsStore, NewsFeed } from \"../types\";\r\nimport { NEWS_URL } from \"../config\";\r\n\r\nconst template: string = /*html*/ `\r\n  <div class=\"bg-gray-600 min-h-screen\">\r\n    <div class=\"bg-white text-xl\">\r\n      <div class=\"mx-auto px-4\">\r\n        <div class=\"flex justify-between items-center py-6\">\r\n          <div class=\"flex justify-start\">\r\n            <h1 class=\"font-extrabold\">Hacker News</h1>\r\n          </div>\r\n          <div class=\"items-center justify-end\">\r\n            <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\r\n              Previous\r\n            </a>\r\n            <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\r\n              Next\r\n            </a>\r\n          </div>\r\n        </div> \r\n      </div>\r\n    </div>\r\n    <div class=\"p-4 text-2xl text-gray-700\">\r\n      {{__news_feed__}}        \r\n    </div>\r\n  </div>\r\n`;\r\n\r\nexport default class NewsFeedView extends View {\r\n  private api: NewsFeedApi;\r\n  private store: NewsStore;\r\n\r\n  constructor(containerId: string, store: NewsStore) {\r\n    super(containerId, template);\r\n\r\n    this.store = store;\r\n    this.api = new NewsFeedApi(NEWS_URL);\r\n  }\r\n\r\n  render() {\r\n    this.store.currentPage = Number(location.hash.substring(7) || 1);\r\n\r\n    /*\r\n      기존엔 API 호출하는 코드가 constructor에 있었는데, 데이터 통신을 비동기로 하게되면 \r\n      라우터에서 render함수를 호출했을 때 생성자에서 호출했던 데이터의 응답이 왔을지 안왔을지 보장이 안되므로\r\n      API 호출을 렌더 쪽으로 옮겨와야한다. \r\n    */\r\n\r\n    if (!this.store.hasFeeds) {\r\n      this.api.getData((feeds: NewsFeed[]) => {\r\n        this.store.setFeeds(feeds);\r\n\r\n        /* \r\n          근데 기존의 for문 이하의 코드들을 여기로 다 옮겨버리면, \r\n          페이지 이동 시 재실행되야 할 코드들이 실행되지 못하기 때문에  \r\n          UI를 업데이트하는 코드를 함수로 분리해서 여기서도 실행시키고 요 밑에서도 실행시켜줘야한다. \r\n        */\r\n\r\n        this.renderView();\r\n      });\r\n    }\r\n\r\n    this.renderView();\r\n  }\r\n\r\n  renderView = () => {\r\n    for (\r\n      let i = (this.store.currentPage - 1) * 10;\r\n      i < this.store.currentPage * 10;\r\n      i++\r\n    ) {\r\n      const { id, title, comments_count, user, points, time_ago, read } =\r\n        this.store.getFeed(i);\r\n\r\n      this.addHtml(/*html*/ `\r\n        <div class=\"p-6 ${\r\n          read ? \"bg-gray-500\" : \"bg-white\"\r\n        } mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\r\n        <div class=\"flex\">\r\n          <div class=\"flex-auto\">\r\n            <a href=\"#/show/${id}\">${title}</a>  \r\n          </div>\r\n          <div class=\"text-center text-sm\">\r\n            <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex mt-3\">\r\n          <div class=\"grid grid-cols-3 text-sm text-gray-500\">\r\n            <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\r\n            <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\r\n            <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\r\n          </div>  \r\n        </div>\r\n      </div>    \r\n      `);\r\n    }\r\n\r\n    this.setTemplateData(\"news_feed\", this.getHtml());\r\n    this.setTemplateData(\"prev_page\", String(this.store.prevPage));\r\n    this.setTemplateData(\"next_page\", String(this.store.nextPage));\r\n\r\n    this.updateView();\r\n  };\r\n}\r\n","// TODO VIEW 클래스: 뉴스 상세 =========================================================================\r\n\r\nimport View from \"../core/view\";\r\nimport { NewsDetailApi } from \"../core/api\";\r\nimport { NewsDetail, NewsComment, NewsStore } from \"../types\";\r\nimport { CONTENT_URL } from \"../config\";\r\n\r\nconst template = /* html */ `\r\n  <div class=\"bg-gray-600 min-h-screen pb-8\">\r\n    <div class=\"bg-white text-xl\">\r\n      <div class=\"mx-auto px-4\">\r\n        <div class=\"flex justify-between items-center py-6\">ㄴ\r\n          <div class=\"flex justify-start\">\r\n            <h1 class=\"font-extrabold\">Hacker News</h1>\r\n          </div>\r\n          <div class=\"items-center justify-end\">\r\n            <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\r\n              <i class=\"fa fa-times\"></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\r\n      <h2>{{__title__}}</h2>\r\n      <div class=\"text-gray-400 h-20\">{{__content__}}</div>\r\n\r\n      {{__comments__}}\r\n\r\n    </div>\r\n  </div>\r\n`;\r\n\r\nexport default class NewsDetailView extends View {\r\n  private store: NewsStore;\r\n\r\n  constructor(containerId: string, store: NewsStore) {\r\n    super(containerId, template);\r\n    this.store = store;\r\n  }\r\n\r\n  render() {\r\n    const id = location.hash.substring(7);\r\n    const api = new NewsDetailApi(CONTENT_URL.replace(\"@id\", id));\r\n\r\n    api.getData((data: NewsDetail) => {\r\n      const { title, content, comments } = data;\r\n\r\n      this.store.makeRead(Number(id)); // 현재 글 읽음 처리\r\n\r\n      this.setTemplateData(\"comments\", this.makeComment(comments));\r\n      this.setTemplateData(\"currentPage\", String(this.store.currentPage));\r\n      this.setTemplateData(\"title\", title);\r\n      this.setTemplateData(\"content\", content);\r\n\r\n      this.updateView();\r\n    });\r\n  }\r\n\r\n  private makeComment(comments: NewsComment[]): string {\r\n    for (let i = 0; i < comments.length; i++) {\r\n      const comment: NewsComment = comments[i];\r\n\r\n      this.addHtml(/* html */ `\r\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\r\n          <div class=\"text-gray-400\">\r\n            <i class=\"fa fa-sort-up mr-2\"></i>\r\n            <strong>${comment.user}</strong> ${comment.time_ago}\r\n          </div>\r\n          <p class=\"text-gray-700\">${comment.content}</p>\r\n        </div>     \r\n      `);\r\n\r\n      if (comment.comments.length) {\r\n        this.addHtml(this.makeComment(comment.comments));\r\n      }\r\n    }\r\n\r\n    return this.getHtml();\r\n  }\r\n}\r\n","export { default as NewsFeedView } from \"./news-feed-view\";\r\nexport { default as NewsDetailView } from \"./news-detail-view\";\r\n\r\n/*\r\n  페이지는 나중에 훨씬 더 많아질 수 있는데 각각 개별 파일 안에서 export를 하면 \r\n  사용하는 측에서 import구문을 페이지 파일 갯수만큼 써서 불러와야 하기도 하고 \r\n  만약 page 폴더안에 세부 디렉토리를 만들어서 경로가 바뀌기라도 하면  \r\n  사용하는 측에선 해당 파일을 import 하는 구문마다 쫓아가서 경로를 변경해줘야한다.\r\n\r\n  그래서 이렇게 index.ts 파일을 만들어서 한군데에서 export 해주면\r\n  파일명이 index이므로 가져다 쓰는 쪽에서는 /page 이하의 패스를 쓰지 않아도 되고\r\n  현재 폴더에서 하위 디렉토리가 생기든 말든 경로 수정해줄 필요가 없어진다.    \r\n*/\r\n","/*\r\n\r\n  ! 스토어 클래스를 안전하게 만들고, 필요한 클래스에 인스턴스로 제공해보자.\r\n  기존 스토어에서 관리했던 상태는 currentPage와 feeds인데, 이것을 여기서 속성으로 가지고 있으면 될 것 같다.\r\n  그런데 currentPage와 feeds에 직접적으로 접근해서 아무렇게나 수정할 수 있도록 하면 \r\n  실수로 잘못된 값을 넣었을 때 앱이 동작하지 않을수도 있으므로 \r\n  중요한 정보가 잘못 세팅되는 것을 원천적으로 방어해보자. \r\n   \r\n  ! private을 써서 feeds 및 currentPage에 직접적인 접근은 불가하게 하고, \r\n  ! 대신에 관련해서 필요한 기능들은 여기서 만들어서 제공해주면 된다.\r\n  \r\n  그럼 어떤 기능을 제공해줘야할까? \r\n\r\n  우선 NewsFeedView에서 prev, current 버튼을 눌렀을 때 페이지가 이동되려면  \r\n  현재 몇 페이지에 있어야 하는지 알아야 하므로 페이지 번호를 볼 수 있어야 한다. \r\n\r\n  ! 외부에서 값을 읽을 땐 속성에 직접 접근하는 것이 아니라 그저 메소드가 리턴한 값을 보게 하면 된다. \r\n\r\n  근데 이 기능을 메소드로 제공하면 사용하는 측에선 고작 숫자값 하나 받으려고 매번 getCurrentPage() 이런 식으로\r\n  호출을 해야하니까 사용하기가 너무 불편할 것이다. \r\n\r\n  ! 이럴 때 getter를 쓰면 사용하는 측에선 그냥 속성에 접근하듯 store.currentPage로 getter의 리턴값을 얻는다.\r\n  만들 땐 그냥 메소드 만들듯 만들고 이름 앞에 get 키워드만 붙이면 된다. get currentPage() {}\r\n  근데 내부 속성명과 이름이 겹치니까 내부 속성명 앞에 언더바를 붙여준다. (어차피 밖에서 안쓸 값이니까)\r\n\r\n  또 어떤 기능을 제공해야할까.\r\n  ! 내부의 _currentPage를 수정시키는 기능도 제공해야한다.\r\n  \r\n  ! 이걸 setter로 제공하면 사용하는 측에선 store.currentPage = 처럼 대입문으로 속성값 수정 가능하다.\r\n  ! 하지만 저렇게 대입해도 사실은 밑에 보이는 setter 함수를 동작시키는거라서 \r\n  엣지케이스나 숫자가 아닌 타입의 인자가 들어오는 것에 대한 방어 처리가 일어난다.    \r\n\r\n*/\r\n\r\nimport { NewsFeed, NewsStore } from \"./types\";\r\n\r\nexport default class Store implements NewsStore {\r\n  private feeds: NewsFeed[];\r\n  private _currentPage: number;\r\n\r\n  constructor() {\r\n    this.feeds = [];\r\n    this._currentPage = 1;\r\n  }\r\n\r\n  get currentPage() {\r\n    return this._currentPage;\r\n  }\r\n\r\n  set currentPage(page: number) {\r\n    /* \r\n      숫자가 들어와도 음수면 안되는 경우? if (prage < = 0) return; \r\n      이렇게 엣지케이스에 대한 방어도 가능하다 \r\n    */\r\n    this._currentPage = page;\r\n  }\r\n\r\n  /* \r\n    어차피 페이지 번호를 여기서 관리하고 있으니까, 그 김에 \r\n    다음 페이지 번호와 이전 페이지 번호를 리턴하는 함수도 제공해주면 편리할 것이다 \r\n  */\r\n\r\n  get prevPage() {\r\n    return this._currentPage > 1 ? this._currentPage - 1 : 1;\r\n  }\r\n\r\n  get nextPage() {\r\n    return this._currentPage * 10 < this.feeds.length\r\n      ? this._currentPage + 1\r\n      : this._currentPage;\r\n  }\r\n\r\n  /* \r\n    feeds.length로 반복문을 돈다거나 하는 코드가 있었는데 \r\n    이제 feeds 속성에 접근이 불가하므로 feeds의 길이를 리턴해주는 getter도 만들자.\r\n  */\r\n\r\n  get feedsLen(): number {\r\n    return this.feeds.length;\r\n  }\r\n\r\n  /*\r\n    피드 길이가 0이면 데이터를 받아오는 코드가 있었는데, \r\n    이것도 그냥 피드가 비었는지 아닌지 체크해주는 getter를 제공해주자\r\n  */\r\n\r\n  get hasFeeds(): boolean {\r\n    return this.feeds.length > 0;\r\n  }\r\n\r\n  /* 전체 피드를 내보내주는 것은 메소드로 만들어주자 */\r\n  getAllFeeds(): NewsFeed[] {\r\n    return this.feeds;\r\n  }\r\n\r\n  /* feeds 배열에서 특정 인덱스의 피드에 접근하는 코드도 있었으므로 */\r\n  getFeed(index: number): NewsFeed {\r\n    return this.feeds[index];\r\n  }\r\n\r\n  /* API로 받아온 뉴스 목록 데이터에 read 속성을 추가해서 feeds에 저장해주는 것도 메소드로 제공하자 */\r\n  setFeeds(feeds: NewsFeed[]): void {\r\n    this.feeds = feeds.map((feed) => ({\r\n      ...feed,\r\n      read: false,\r\n    }));\r\n  }\r\n\r\n  /* \r\n    읽은 글의 read 속성값을 바꿔주는 코드도 있었는데, \r\n    이것도 이젠 외부에서 feeds에 접근이 안되기 때문에 메소드로 제공해주자 \r\n  */\r\n  makeRead(id: number): void {\r\n    const feed = this.feeds.find((feed: NewsFeed) => feed.id === id);\r\n\r\n    if (feed) {\r\n      feed.read = true;\r\n    }\r\n  }\r\n}\r\n","/*\r\n\r\n  ! 비동기 XHR -> Fetch & Promise \r\n  \r\n*/\r\n\r\nimport Router from \"./core/router\";\r\nimport { NewsFeedView, NewsDetailView } from \"./page\";\r\nimport Store from \"./store\";\r\n\r\nconst store = new Store();\r\nconst router: Router = new Router();\r\nconst newsFeedView = new NewsFeedView(\"root\", store);\r\nconst newsDetailView = new NewsDetailView(\"root\", store);\r\n\r\nrouter.setDefaultPage(newsFeedView);\r\nrouter.addRoutePath(\"/page/\", newsFeedView);\r\nrouter.addRoutePath(\"/show/\", newsDetailView);\r\n\r\nrouter.route();\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}