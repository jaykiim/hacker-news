{"id":"src/store.ts","dependencies":[{"name":"C:\\Users\\user\\Desktop\\coding\\Projects\\hacker-news-typescript\\ver9\\tsconfig.json","includedInParent":true,"mtime":1640074686069},{"name":"C:\\Users\\user\\Desktop\\coding\\Projects\\hacker-news-typescript\\ver9\\package.json","includedInParent":true,"mtime":1639733771154}],"generated":{"js":"\"use strict\";\n/*\r\n\r\n  ! 스토어 클래스를 안전하게 만들고, 필요한 클래스에 인스턴스로 제공해보자.\r\n  기존 스토어에서 관리했던 상태는 currentPage와 feeds인데, 이것을 여기서 속성으로 가지고 있으면 될 것 같다.\r\n  그런데 currentPage와 feeds에 직접적으로 접근해서 아무렇게나 수정할 수 있도록 하면\r\n  실수로 잘못된 값을 넣었을 때 앱이 동작하지 않을수도 있으므로\r\n  중요한 정보가 잘못 세팅되는 것을 원천적으로 방어해보자.\r\n   \r\n  ! private을 써서 feeds 및 currentPage에 직접적인 접근은 불가하게 하고,\r\n  ! 대신에 관련해서 필요한 기능들은 여기서 만들어서 제공해주면 된다.\r\n  \r\n  그럼 어떤 기능을 제공해줘야할까?\r\n\r\n  우선 NewsFeedView에서 prev, current 버튼을 눌렀을 때 페이지가 이동되려면\r\n  현재 몇 페이지에 있어야 하는지 알아야 하므로 페이지 번호를 볼 수 있어야 한다.\r\n\r\n  ! 외부에서 값을 읽을 땐 속성에 직접 접근하는 것이 아니라 그저 메소드가 리턴한 값을 보게 하면 된다.\r\n\r\n  근데 이 기능을 메소드로 제공하면 사용하는 측에선 고작 숫자값 하나 받으려고 매번 getCurrentPage() 이런 식으로\r\n  호출을 해야하니까 사용하기가 너무 불편할 것이다.\r\n\r\n  ! 이럴 때 getter를 쓰면 사용하는 측에선 그냥 속성에 접근하듯 store.currentPage로 getter의 리턴값을 얻는다.\r\n  만들 땐 그냥 메소드 만들듯 만들고 이름 앞에 get 키워드만 붙이면 된다. get currentPage() {}\r\n  근데 내부 속성명과 이름이 겹치니까 내부 속성명 앞에 언더바를 붙여준다. (어차피 밖에서 안쓸 값이니까)\r\n\r\n  또 어떤 기능을 제공해야할까.\r\n  ! 내부의 _currentPage를 수정시키는 기능도 제공해야한다.\r\n  \r\n  ! 이걸 setter로 제공하면 사용하는 측에선 store.currentPage = 처럼 대입문으로 속성값 수정 가능하다.\r\n  ! 하지만 저렇게 대입해도 사실은 밑에 보이는 setter 함수를 동작시키는거라서\r\n  엣지케이스나 숫자가 아닌 타입의 인자가 들어오는 것에 대한 방어 처리가 일어난다.\r\n\r\n*/\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Store =\n/** @class */\nfunction () {\n  function Store() {\n    this.feeds = [];\n    this._currentPage = 1;\n  }\n\n  Object.defineProperty(Store.prototype, \"currentPage\", {\n    get: function get() {\n      return this._currentPage;\n    },\n    set: function set(page) {\n      /*\r\n        숫자가 들어와도 음수면 안되는 경우? if (prage < = 0) return;\r\n        이렇게 엣지케이스에 대한 방어도 가능하다\r\n      */\n      this._currentPage = page;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"prevPage\", {\n    /*\r\n      어차피 페이지 번호를 여기서 관리하고 있으니까, 그 김에\r\n      다음 페이지 번호와 이전 페이지 번호를 리턴하는 함수도 제공해주면 편리할 것이다\r\n    */\n    get: function get() {\n      return this._currentPage > 1 ? this._currentPage - 1 : 1;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"nextPage\", {\n    get: function get() {\n      return this._currentPage * 10 < this.feeds.length ? this._currentPage + 1 : this._currentPage;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"feedsLen\", {\n    /*\r\n      feeds.length로 반복문을 돈다거나 하는 코드가 있었는데\r\n      이제 feeds 속성에 접근이 불가하므로 feeds의 길이를 리턴해주는 getter도 만들자.\r\n    */\n    get: function get() {\n      return this.feeds.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Store.prototype, \"hasFeeds\", {\n    /*\r\n      피드 길이가 0이면 데이터를 받아오는 코드가 있었는데,\r\n      이것도 그냥 피드가 비었는지 아닌지 체크해주는 getter를 제공해주자\r\n    */\n    get: function get() {\n      return this.feeds.length > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /* 전체 피드를 내보내주는 것은 메소드로 만들어주자 */\n\n  Store.prototype.getAllFeeds = function () {\n    return this.feeds;\n  };\n  /* feeds 배열에서 특정 인덱스의 피드에 접근하는 코드도 있었으므로 */\n\n\n  Store.prototype.getFeed = function (index) {\n    return this.feeds[index];\n  };\n  /* API로 받아온 뉴스 목록 데이터에 read 속성을 추가해서 feeds에 저장해주는 것도 메소드로 제공하자 */\n\n\n  Store.prototype.setFeeds = function (feeds) {\n    this.feeds = feeds.map(function (feed) {\n      return __assign(__assign({}, feed), {\n        read: false\n      });\n    });\n  };\n  /*\r\n    읽은 글의 read 속성값을 바꿔주는 코드도 있었는데,\r\n    이것도 이젠 외부에서 feeds에 접근이 안되기 때문에 메소드로 제공해주자\r\n  */\n\n\n  Store.prototype.makeRead = function (id) {\n    var feed = this.feeds.find(function (feed) {\n      return feed.id === id;\n    });\n\n    if (feed) {\n      feed.read = true;\n    }\n  };\n\n  return Store;\n}();\n\nexports.default = Store;"},"sourceMaps":{"js":{"mappings":[{"source":"src/store.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":56,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":56,"column":4}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":56,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":57,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":58,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":58,"column":12}},{"source":"src/store.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":59,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":59,"column":11}},{"source":"src/store.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":59,"column":16}},{"source":"src/store.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":59,"column":19}},{"source":"src/store.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":60,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":60,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":60,"column":14}},{"source":"src/store.ts","name":null,"original":{"line":42,"column":17},"generated":{"line":60,"column":17}},{"source":"src/store.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":60,"column":19}},{"source":"src/store.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":61,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":61,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":61,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":43,"column":24},"generated":{"line":61,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":61,"column":25}},{"source":"src/store.ts","name":null,"original":{"line":44,"column":3},"generated":{"line":62,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":64,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":64,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":64,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":64,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":64,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":64,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":64,"column":29}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":64,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":64,"column":39}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":64,"column":41}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":64,"column":54}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":17},"generated":{"line":64,"column":56}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":65,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":65,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":66,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":66,"column":13}},{"source":"src/store.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":66,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":66,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":48,"column":3},"generated":{"line":67,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":17},"generated":{"line":67,"column":5}},{"source":"src/store.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":68,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":68,"column":22}},{"source":"src/store.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":68,"column":26}},{"source":"src/store.ts","name":null,"original":{"line":50,"column":30},"generated":{"line":68,"column":28}},{"source":"src/store.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":69,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":73,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":73,"column":11}},{"source":"src/store.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":73,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":55,"column":24},"generated":{"line":73,"column":26}},{"source":"src/store.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":73,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":56,"column":3},"generated":{"line":74,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":17},"generated":{"line":74,"column":5}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":17},"generated":{"line":75,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":17},"generated":{"line":77,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":77,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":78,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":78,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":78,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":78,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":78,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":78,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":78,"column":29}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":78,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":78,"column":39}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":78,"column":41}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":78,"column":51}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":78,"column":53}},{"source":"src/store.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":79,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":83,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":83,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":84,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":84,"column":13}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":84,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":84,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":31},"generated":{"line":84,"column":33}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":84,"column":34}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":35},"generated":{"line":84,"column":37}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":40},"generated":{"line":84,"column":42}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":35},"generated":{"line":84,"column":54}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":55},"generated":{"line":84,"column":57}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":84,"column":58}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":59},"generated":{"line":84,"column":61}},{"source":"src/store.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":84,"column":62}},{"source":"src/store.ts","name":null,"original":{"line":65,"column":3},"generated":{"line":85,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":85,"column":5}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":86,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":88,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":88,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":89,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":89,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":89,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":89,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":89,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":89,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":89,"column":29}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":89,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":89,"column":39}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":89,"column":41}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":89,"column":51}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":14},"generated":{"line":89,"column":53}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":90,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":90,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":91,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":91,"column":13}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":91,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":91,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":31},"generated":{"line":91,"column":33}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":91,"column":35}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":36},"generated":{"line":91,"column":38}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":41},"generated":{"line":91,"column":43}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":36},"generated":{"line":91,"column":48}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":47},"generated":{"line":91,"column":49}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":91,"column":55}},{"source":"src/store.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":91,"column":58}},{"source":"src/store.ts","name":null,"original":{"line":69,"column":13},"generated":{"line":91,"column":63}},{"source":"src/store.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":91,"column":75}},{"source":"src/store.ts","name":null,"original":{"line":69,"column":28},"generated":{"line":91,"column":78}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":91,"column":79}},{"source":"src/store.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":91,"column":82}},{"source":"src/store.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":91,"column":87}},{"source":"src/store.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":91,"column":99}},{"source":"src/store.ts","name":null,"original":{"line":71,"column":3},"generated":{"line":92,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":14},"generated":{"line":92,"column":5}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":14},"generated":{"line":93,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":14},"generated":{"line":95,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":95,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":96,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":96,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":96,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":96,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":96,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":96,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":96,"column":29}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":96,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":96,"column":39}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":96,"column":41}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":96,"column":51}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":96,"column":53}},{"source":"src/store.ts","name":null,"original":{"line":73,"column":2},"generated":{"line":97,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":101,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":101,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":102,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":79,"column":11},"generated":{"line":102,"column":13}},{"source":"src/store.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":102,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":79,"column":11},"generated":{"line":102,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":79,"column":22},"generated":{"line":102,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":102,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":80,"column":3},"generated":{"line":103,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":103,"column":5}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":104,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":106,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":78,"column":2},"generated":{"line":106,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":107,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":107,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":107,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":107,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":107,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":107,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":107,"column":29}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":107,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":107,"column":39}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":107,"column":41}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":107,"column":51}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":107,"column":53}},{"source":"src/store.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":108,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":112,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":112,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":113,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":113,"column":13}},{"source":"src/store.ts","name":null,"original":{"line":88,"column":16},"generated":{"line":113,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":113,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":88,"column":22},"generated":{"line":113,"column":24}},{"source":"src/store.ts","name":null,"original":{"line":88,"column":11},"generated":{"line":113,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":88,"column":31},"generated":{"line":113,"column":33}},{"source":"src/store.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":113,"column":34}},{"source":"src/store.ts","name":null,"original":{"line":89,"column":3},"generated":{"line":114,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":114,"column":5}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":115,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":117,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":87,"column":2},"generated":{"line":117,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":118,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":7}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":17}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":29}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":32}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":120,"column":44}},{"source":"src/store.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":121,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":93,"column":11},"generated":{"line":121,"column":11}},{"source":"src/store.ts","name":null,"original":{"line":93,"column":16},"generated":{"line":121,"column":16}},{"source":"src/store.ts","name":null,"original":{"line":93,"column":4},"generated":{"line":121,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":94,"column":3},"generated":{"line":122,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":92,"column":2},"generated":{"line":122,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":123,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":7}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":17}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":25}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":28}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":10},"generated":{"line":126,"column":38}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":126,"column":43}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":23},"generated":{"line":126,"column":45}},{"source":"src/store.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":127,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":98,"column":11},"generated":{"line":127,"column":11}},{"source":"src/store.ts","name":null,"original":{"line":98,"column":16},"generated":{"line":127,"column":16}},{"source":"src/store.ts","name":null,"original":{"line":98,"column":11},"generated":{"line":127,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":98,"column":22},"generated":{"line":127,"column":22}},{"source":"src/store.ts","name":null,"original":{"line":98,"column":11},"generated":{"line":127,"column":27}},{"source":"src/store.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":127,"column":28}},{"source":"src/store.ts","name":null,"original":{"line":99,"column":3},"generated":{"line":128,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":128,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":129,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":7}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":17}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":26}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":29}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":11},"generated":{"line":132,"column":39}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":132,"column":44}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":28},"generated":{"line":132,"column":46}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":133,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":9},"generated":{"line":133,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":133,"column":14}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":17},"generated":{"line":133,"column":17}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":22},"generated":{"line":133,"column":22}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":23},"generated":{"line":133,"column":23}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":17},"generated":{"line":133,"column":26}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":27},"generated":{"line":133,"column":27}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":28},"generated":{"line":133,"column":37}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":27},"generated":{"line":133,"column":41}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":32},"generated":{"line":133,"column":43}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":13}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":21}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":22}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":31}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":33}},{"source":"src/store.ts","name":null,"original":{"line":104,"column":9},"generated":{"line":134,"column":35}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":39}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":134,"column":40}},{"source":"src/store.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":134,"column":42}},{"source":"src/store.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":135,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":135,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":105,"column":10},"generated":{"line":135,"column":12}},{"source":"src/store.ts","name":null,"original":{"line":105,"column":12},"generated":{"line":135,"column":14}},{"source":"src/store.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":136,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":136,"column":7}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":136,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":137,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":17},"generated":{"line":137,"column":5}},{"source":"src/store.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":137,"column":6}},{"source":"src/store.ts","name":null,"original":{"line":107,"column":3},"generated":{"line":138,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":138,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":109,"column":2},"generated":{"line":139,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":2}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":7}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":17}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":26}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":29}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":11},"generated":{"line":145,"column":39}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":145,"column":41}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":21},"generated":{"line":145,"column":43}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":146,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":10},"generated":{"line":146,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":14},"generated":{"line":146,"column":12}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":146,"column":15}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":22},"generated":{"line":146,"column":20}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":146,"column":25}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":28},"generated":{"line":146,"column":26}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":146,"column":30}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":33},"generated":{"line":146,"column":31}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":34},"generated":{"line":146,"column":41}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":33},"generated":{"line":146,"column":45}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":48},"generated":{"line":146,"column":47}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":53},"generated":{"line":147,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":53},"generated":{"line":147,"column":13}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":57},"generated":{"line":147,"column":17}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":58},"generated":{"line":147,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":53},"generated":{"line":147,"column":20}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":65},"generated":{"line":147,"column":25}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":53},"generated":{"line":147,"column":27}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":67},"generated":{"line":148,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":17},"generated":{"line":148,"column":5}},{"source":"src/store.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":148,"column":6}},{"source":"src/store.ts","name":null,"original":{"line":116,"column":4},"generated":{"line":150,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":150,"column":8}},{"source":"src/store.ts","name":null,"original":{"line":116,"column":4},"generated":{"line":150,"column":12}},{"source":"src/store.ts","name":null,"original":{"line":116,"column":14},"generated":{"line":150,"column":14}},{"source":"src/store.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":151,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":151,"column":6}},{"source":"src/store.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":151,"column":10}},{"source":"src/store.ts","name":null,"original":{"line":117,"column":11},"generated":{"line":151,"column":11}},{"source":"src/store.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":151,"column":15}},{"source":"src/store.ts","name":null,"original":{"line":117,"column":18},"generated":{"line":151,"column":18}},{"source":"src/store.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":151,"column":22}},{"source":"src/store.ts","name":null,"original":{"line":118,"column":5},"generated":{"line":152,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":119,"column":3},"generated":{"line":153,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":113,"column":2},"generated":{"line":153,"column":3}},{"source":"src/store.ts","name":null,"original":{"line":120,"column":0},"generated":{"line":155,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":120,"column":0},"generated":{"line":155,"column":9}},{"source":"src/store.ts","name":null,"original":{"line":120,"column":0},"generated":{"line":155,"column":14}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":156,"column":0}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":156,"column":1}},{"source":"src/store.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":156,"column":3}}],"sources":{"src/store.ts":"/*\r\n\r\n  ! 스토어 클래스를 안전하게 만들고, 필요한 클래스에 인스턴스로 제공해보자.\r\n  기존 스토어에서 관리했던 상태는 currentPage와 feeds인데, 이것을 여기서 속성으로 가지고 있으면 될 것 같다.\r\n  그런데 currentPage와 feeds에 직접적으로 접근해서 아무렇게나 수정할 수 있도록 하면 \r\n  실수로 잘못된 값을 넣었을 때 앱이 동작하지 않을수도 있으므로 \r\n  중요한 정보가 잘못 세팅되는 것을 원천적으로 방어해보자. \r\n   \r\n  ! private을 써서 feeds 및 currentPage에 직접적인 접근은 불가하게 하고, \r\n  ! 대신에 관련해서 필요한 기능들은 여기서 만들어서 제공해주면 된다.\r\n  \r\n  그럼 어떤 기능을 제공해줘야할까? \r\n\r\n  우선 NewsFeedView에서 prev, current 버튼을 눌렀을 때 페이지가 이동되려면  \r\n  현재 몇 페이지에 있어야 하는지 알아야 하므로 페이지 번호를 볼 수 있어야 한다. \r\n\r\n  ! 외부에서 값을 읽을 땐 속성에 직접 접근하는 것이 아니라 그저 메소드가 리턴한 값을 보게 하면 된다. \r\n\r\n  근데 이 기능을 메소드로 제공하면 사용하는 측에선 고작 숫자값 하나 받으려고 매번 getCurrentPage() 이런 식으로\r\n  호출을 해야하니까 사용하기가 너무 불편할 것이다. \r\n\r\n  ! 이럴 때 getter를 쓰면 사용하는 측에선 그냥 속성에 접근하듯 store.currentPage로 getter의 리턴값을 얻는다.\r\n  만들 땐 그냥 메소드 만들듯 만들고 이름 앞에 get 키워드만 붙이면 된다. get currentPage() {}\r\n  근데 내부 속성명과 이름이 겹치니까 내부 속성명 앞에 언더바를 붙여준다. (어차피 밖에서 안쓸 값이니까)\r\n\r\n  또 어떤 기능을 제공해야할까.\r\n  ! 내부의 _currentPage를 수정시키는 기능도 제공해야한다.\r\n  \r\n  ! 이걸 setter로 제공하면 사용하는 측에선 store.currentPage = 처럼 대입문으로 속성값 수정 가능하다.\r\n  ! 하지만 저렇게 대입해도 사실은 밑에 보이는 setter 함수를 동작시키는거라서 \r\n  엣지케이스나 숫자가 아닌 타입의 인자가 들어오는 것에 대한 방어 처리가 일어난다.    \r\n\r\n*/\r\n\r\nimport { NewsFeed, NewsStore } from \"./types\";\r\n\r\nexport default class Store implements NewsStore {\r\n  private feeds: NewsFeed[];\r\n  private _currentPage: number;\r\n\r\n  constructor() {\r\n    this.feeds = [];\r\n    this._currentPage = 1;\r\n  }\r\n\r\n  get currentPage() {\r\n    return this._currentPage;\r\n  }\r\n\r\n  set currentPage(page: number) {\r\n    /* \r\n      숫자가 들어와도 음수면 안되는 경우? if (prage < = 0) return; \r\n      이렇게 엣지케이스에 대한 방어도 가능하다 \r\n    */\r\n    this._currentPage = page;\r\n  }\r\n\r\n  /* \r\n    어차피 페이지 번호를 여기서 관리하고 있으니까, 그 김에 \r\n    다음 페이지 번호와 이전 페이지 번호를 리턴하는 함수도 제공해주면 편리할 것이다 \r\n  */\r\n\r\n  get prevPage() {\r\n    return this._currentPage > 1 ? this._currentPage - 1 : 1;\r\n  }\r\n\r\n  get nextPage() {\r\n    return this._currentPage * 10 < this.feeds.length\r\n      ? this._currentPage + 1\r\n      : this._currentPage;\r\n  }\r\n\r\n  /* \r\n    feeds.length로 반복문을 돈다거나 하는 코드가 있었는데 \r\n    이제 feeds 속성에 접근이 불가하므로 feeds의 길이를 리턴해주는 getter도 만들자.\r\n  */\r\n\r\n  get feedsLen(): number {\r\n    return this.feeds.length;\r\n  }\r\n\r\n  /*\r\n    피드 길이가 0이면 데이터를 받아오는 코드가 있었는데, \r\n    이것도 그냥 피드가 비었는지 아닌지 체크해주는 getter를 제공해주자\r\n  */\r\n\r\n  get hasFeeds(): boolean {\r\n    return this.feeds.length > 0;\r\n  }\r\n\r\n  /* 전체 피드를 내보내주는 것은 메소드로 만들어주자 */\r\n  getAllFeeds(): NewsFeed[] {\r\n    return this.feeds;\r\n  }\r\n\r\n  /* feeds 배열에서 특정 인덱스의 피드에 접근하는 코드도 있었으므로 */\r\n  getFeed(index: number): NewsFeed {\r\n    return this.feeds[index];\r\n  }\r\n\r\n  /* API로 받아온 뉴스 목록 데이터에 read 속성을 추가해서 feeds에 저장해주는 것도 메소드로 제공하자 */\r\n  setFeeds(feeds: NewsFeed[]): void {\r\n    this.feeds = feeds.map((feed) => ({\r\n      ...feed,\r\n      read: false,\r\n    }));\r\n  }\r\n\r\n  /* \r\n    읽은 글의 read 속성값을 바꿔주는 코드도 있었는데, \r\n    이것도 이젠 외부에서 feeds에 접근이 안되기 때문에 메소드로 제공해주자 \r\n  */\r\n  makeRead(id: number): void {\r\n    const feed = this.feeds.find((feed: NewsFeed) => feed.id === id);\r\n\r\n    if (feed) {\r\n      feed.read = true;\r\n    }\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"e5a41b8282835334f2de8900f1340965","cacheData":{"env":{}}}